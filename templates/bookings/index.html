{% extends 'base.html' %}

{% block content %}
    
    <h1>Bookings</h1>

    <h5>Create Booking</h5>

    <form class="form-box" action="/bookings" method="post">
        <label for="member">Member:</label>
            <select name="member_id" id="member">
                {% for member in members %}
                    <option value="{{ member.id }}">{{ member.first_name }} {{ member.last_name }}</option>
                {% endfor %}
            </select>

        <label for="gym_class">Class:</label>
            <select name="gym_class_id" id="gym_class">
                {% for gym_class in gym_classes %}
                    <option value="{{ gym_class.id }}">Class {{ gym_class.id }}</option>
                {% endfor %}
            </select>
        <input type="submit" value="Register Booking">
    </form>

    <ul>
        {% for booking in bookings %}
        <li>
            <p><a href="/members/{{ booking.member.id }}">{{ booking.member.first_name }} {{ booking.member.last_name }}</a> - Class {{ booking.gym_class.id }}</p>
            <p>Class Description:<b><i> {{ booking.gym_class.description }}</i></b></p>
            <p>
                <form action="/bookings/{{ booking.id }}/delete" method="post">
                    <input type="submit" value="Cancel Booking">
                </form>
            </p>
        </li>
        {% endfor %}
    </ul>

{% endblock content %}